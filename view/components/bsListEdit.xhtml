<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:fc="http://www.bateaustop.fr/facescomponents"
	xmlns:e="http://www.bateaustop.fr/SeamFunc">

	<rich:panel id="#{id}">
		<f:facet name="header">
			<!-- Filler -->
		</f:facet> 

		<s:div styleClass="results"><h:outputText
			value="#{messages['recherche.noResult']}" rendered="#{empty entityList.resultList}"
			styleClass="messageTableVide" /> <s:div
			rendered="#{not empty entityList.resultList}">

			<h:form>
			
				<script>
					var #{id}row = null;		
				</script>

				<!--<rich:contextMenu attached="false" id="#{id}menu" disableDefaultMenu="true" 
						oncollapse="jQuery(#{id}row).removeClass('dataTableRow-ContextMenu');
						#{id}row = null;"
						hideDelay="100" submitMode="ajax" >
						<ui:insert name="menus" />
				</rich:contextMenu>
				
				--><a:region>
					<rich:dataTable id="#{id}Table"	 styleClass="curseurMain"	
						rowClasses="dataTableRow" width="100%"
						onRowMouseOver="jQuery(this).addClass('dataTableRow-MouseOver');" onRowMouseOut="jQuery(this).removeClass('dataTableRow-MouseOver');"
						onRowClick="#{onRowClick}"						
						onRowMouseUp="javascript:
						if(event.button == 2){
							if (#{id}row != null) {
								jQuery(#{id}row).removeClass('dataTableRow-ContextMenu');
							}
                			jQuery(this).addClass('dataTableRow-ContextMenu');
                			#{id}row=this;
                			#{rich:component(id.concat('menu'))}.show(event,{_varList:'#{_varList}', _rowKeyVar:'#{_rowKeyVar}'});
						}
						"
						value="#{entityList.resultList}" rowKeyVar="_rowKeyVar" var="_varList">

						<ui:insert />

					</rich:dataTable>
				</a:region>
			</h:form>

		</s:div></s:div>
	</rich:panel>

</ui:composition>

